# –ß–∞—Å—Ç—å 1. Developer Documentation (`royal_bot`)

## 1. –í–≤–µ–¥–µ–Ω–∏–µ

**`royal_bot`** ‚Äî —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ –±–∞–∑–µ **Aiogram** (Python), –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è:
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Telegram-–≥—Ä—É–ø–ø–∞—Ö.
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–µ–¥–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤: –∑–∞—Ä–ø–ª–∞—Ç–∞, –Ω–∞–ª–∏—á–Ω—ã–µ, –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É —ç–º–æ–¥–∑–∏ (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, —Ä–æ—Ç–∞—Ü–∏—è).
- –ü–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏ (—Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –∫–∏—Ç–∞–π—Å–∫–∏–π).
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –º–µ–Ω—é —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –∑–∞—Ä–ø–ª–∞—Ç—ã –¥–ª—è –≥—Ä—É–ø–ø.
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.
  - –û–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –±—Ä–æ–Ω–∏ (‚úÖ, ‚ùå –∏ –¥—Ä.).
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–ª–∞—Ç–æ–π (–Ω–∞–ª–∏—á–Ω—ã–µ, –±–µ–∑–Ω–∞–ª, –∞–≥–µ–Ω—Ç).
  - –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ ¬´–ó–∞–≤—Ç—Ä–∞¬ª ‚Üí ¬´–°–µ–≥–æ–¥–Ω—è¬ª —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á—ë—Ç–æ–≤.
- –•—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –≥—Ä—É–ø–ø –≤ –ø–∞–º—è—Ç–∏.

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ –º–æ–¥—É–ª—è–º:
- `handlers/` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∫–æ–ª–±—ç–∫–æ–≤ (FSM-—Å—Ü–µ–Ω–∞—Ä–∏–∏, –∞–¥–º–∏–Ω-–º–µ–Ω—é, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).
- `constants/` ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞: –∫–ª—é—á–∏ –≥—Ä—É–ø–ø, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞—Ä–ø–ª–∞—Ç—ã, —Å—Ç–∞—Ç—É—Å-—ç–º–æ–¥–∑–∏.
- `utils/` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (—Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤).
- `db_access/` ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π).
- `main.py`, `config.py`, `db.py` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î.

### 1.1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

#### 1.1.1. –¢–∞–±–ª–∏—Ü—ã

- **users**
  - `user_id` (PK, bigint)
  - `username` (text)
  - `balance` (numeric)
  - `profit` (numeric)
  - `monthly_profit` (numeric)

- **user_emojis**
  - `user_id` (PK, bigint, FK ‚Üí users)
  - `emojis` (text) ‚Äî –∑–∞–ø—è—Ç–∞—è-—Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–º–æ–¥–∑–∏

- **user_settings**
  - `user_id` (PK, bigint, FK ‚Üí users)
  - `language` (char(2))

- **bookings**
  - `group_key` (text)
  - `day` (text, "–°–µ–≥–æ–¥–Ω—è" / "–ó–∞–≤—Ç—Ä–∞")
  - `time_slot` (text, —Ñ–æ—Ä–º–∞—Ç `HH:MM`)
  - `user_id` (bigint, FK ‚Üí users)
  - `status_code` (text)
  - `status` (text, —ç–º–æ–¥–∑–∏ —Å—Ç–∞—Ç—É—Å–∞)
  - `amount` (integer)
  - `payment_method` (text, "cash", "beznal", "agent")
  - `emoji` (text)
  - **CONSTRAINT**: —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `(group_key, day, time_slot)`

- **group_time_slot_statuses**
  - `group_key` (text)
  - `day` (text)
  - `time_slot` (text)
  - `status` (text)
  - `user_id` (bigint)
  - **CONSTRAINT**: —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `(group_key, day, time_slot)`

- **group_financial_data**
  - `group_key` (PK, text)
  - `salary_option` (integer, 1‚Äì4)
  - `salary` (numeric)
  - `cash` (numeric)
  - `message_id` (integer) ‚Äî ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

#### 1.1.2. –õ–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ `main.py` –≤—ã–∑—ã–≤–∞–µ—Ç:
     - `load_salary_data_from_db()` (–≤ `handlers/salary.py`) ‚Äî –∑–∞–ø–æ–ª–Ω—è–µ—Ç `groups_data` –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ `group_financial_data`.
     - `load_slots_from_db()` (–≤ `handlers/booking/loader.py`) ‚Äî –∑–∞–ø–æ–ª–Ω—è–µ—Ç in-memory `groups_data` –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü `bookings` –∏ `group_time_slot_statuses`.
2. **–ó–∞–ø–∏—Å—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
   - `async_book_slot()` (–≤ `handlers/booking/data_manager.py`):
     1. –ü–æ–ª—É—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ —ç–º–æ–¥–∑–∏ —á–µ—Ä–µ–∑ `get_next_emoji()`.
     2. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É `bookings` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "booked" –∏ —ç–º–æ–¥–∑–∏.
     3. –û–±–Ω–æ–≤–ª—è–µ—Ç in-memory `groups_data`: `booked_slots`, `slot_bookers`, `time_slot_statuses`, `slot_emojis`, `unavailable_slots`.
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–ª–æ—Ç–∞**
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª–æ—Ç –≤ –≥—Ä—É–ø–ø–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ ‚Üí callback "group_time|..." (–≤ `handlers/booking/admin_flow.py`).
   - –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞:
     - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `bookings.status_code/status`.
     - –í—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `group_time_slot_statuses`.
     - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `apply_special_user_reward()` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
     - –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ–ø–ª–∞—Ç—ã.
4. **–û–ø–ª–∞—Ç–∞ –∏ —Ä–∞—Å—á—ë—Ç**
   - –í `handlers/booking/payment_flow.py`:
     - –ê–¥–º–∏–Ω –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã (cash, beznal, agent).
     - –ï—Å–ª–∏ cash/beznal ‚Üí FSM –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É, –∑–∞—Ç–µ–º:
       - –í—ã—á–∏—Å–ª—è—é—Ç—Å—è –≤—ã–ø–ª–∞—Ç–∞ (base) –∏ –∫–æ–º–∏—Å—Å–∏—è (deduct) –ø–æ —Å—Ç–∞—Ç—É—Å—É.
       - `groups_data[group]["salary"] += base`; –ø—Ä–∏ cash ‚Üí `groups_data[group]["cash"] += amount`.
       - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `group_financial_data`.
       - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `bookings.payment_method` –∏ `bookings.amount`.
       - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `update_user_financial_info()` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–ø–∏—Å–∞–Ω–∏–µ/–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ).
       - –ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π `distribution_variant` –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –µ—â—ë –æ–¥–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
       - `update_group_message()` –∏ `send_financial_report()`.
     - –ï—Å–ª–∏ agent ‚Üí –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ä–∞—Å—á—ë—Ç, –Ω–æ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ —Å—É–º–º—ã, –Ω–∞–ø—Ä—è–º—É—é.
5. **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å ("–ó–∞–≤—Ç—Ä–∞" ‚Üí "–°–µ–≥–æ–¥–Ω—è")**
   - `handlers/next.py ‚Üí do_next_core(bot)`:
     1. –°–±–æ—Ä –æ—Ç—á—ë—Ç–∞ –∑–∞ "–°–µ–≥–æ–¥–Ω—è" (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π, —Å—É–º–º—ã –ø–æ –º–µ—Ç–æ–¥–∞–º, —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º).
     2. –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–∞ –≤ —á–∞—Ç `FINANCIAL_REPORT_GROUP_ID`.
     3. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π "–°–µ–≥–æ–¥–Ω—è" –∏–∑ `bookings` –∏ `group_time_slot_statuses`.
     4. –û—á–∏—Å—Ç–∫–∞ in-memory –¥–ª—è "–°–µ–≥–æ–¥–Ω—è".
     5. –ü–µ—Ä–µ–Ω–æ—Å –∑–∞–ø–∏—Å–µ–π "–ó–∞–≤—Ç—Ä–∞" ‚Üí "–°–µ–≥–æ–¥–Ω—è" –≤ –ë–î –∏ in-memory.
     6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `groups_data` —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
     7. –í—ã–∑–æ–≤ `update_group_message()` –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã.
   - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤ `register_daily_scheduler()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è –≤ Asia/Shanghai: —Ä–æ–≤–Ω–æ 03:00 –∑–∞–ø—É—Å–∫ `do_next_core()`.
6. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏**
   - `handlers/startemoji.py`:
     - `/start`:
       - –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç —ç–º–æ–¥–∑–∏ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ `ADMIN_IDS` –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.
       - –ï—Å–ª–∏ —ç–º–æ–¥–∑–∏ –µ—Å—Ç—å ‚Üí –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
     - `/emoji` (–∏–ª–∏ –∞–¥–º–∏–Ω-–º–µ–Ω—é) ‚Üí —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ `users` ‚Üí –∫–Ω–æ–ø–∫–∏ `assign_emoji_<user_id>`.
     - Callback `assign_emoji_<target_id>` ‚Üí –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ `CUSTOM_EMOJIS` –∏ `TRIPLE_EMOJIS`.
     - –í—ã–±–æ—Ä (–æ–¥–Ω–æ–≥–æ/–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö) —ç–º–æ–¥–∑–∏ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `user_emojis` –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
     - `get_next_emoji(user_id)` —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏ –≤—ã–¥–∞—ë—Ç —Ç–µ–∫—É—â–µ–µ —ç–º–æ–¥–∑–∏ –∏–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç "üë§".
7. **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å**
   - `handlers/language.py`:
     - `TRANSLATIONS[key][lang]`: –∫–ª—é—á–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã.
     - –¢–∞–±–ª–∏—Ü–∞ `user_settings(user_id, language)`.
     - `/lang` ‚Üí –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ (InlineKeyboardButton(text, callback_data="setlang_<code>")).
     - Callback `setlang_<code>` ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.
8. **–ê–¥–º–∏–Ω-–º–µ–Ω—é (`handlers/menu_ad.py`)**
   - `/ad` ‚Üí –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:
     ```
     –õ–µ–æ–Ω–∞—Ä–¥ | –ó–∞—Ä–ø–ª–∞—Ç–∞
     –≠–º–æ–¥–∑–∏ | –î–µ–Ω—å–≥–∏
     –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏ | –û—á–∏—Å—Ç–∫–∞
     –ë–∞–ª–∞–Ω—Å—ã | –ü—Ä–∞–≤–∏–ª–∞
     –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è | –°–±—Ä–æ—Å –¥–Ω—è
     –ù–∞–∑–∞–¥
     ```
   - –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π callback: `leonard_menu_callback`, `salary_command`, `cmd_emoji`, `money_command`, `cmd_off_admin`, `clean_via_button`, `show_users_via_callback`, `callback_reset_day`.
9. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –º–µ–Ω—é (`handlers/menu_user.py`)**
   - `/menu` ‚Üí —Ñ–æ—Ç–æ + –∫–Ω–æ–ø–∫–∏:
     - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (`menu_stub|booking`)
     - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (`view_all_bookings`)
     - –ë–∞–ª–∞–Ω—Å (`menu_stub|balance`)
     - –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏ (`menu_stub|cancel_booking`)
   - –í—ã–±–æ—Ä `menu_stub|booking` –∑–∞–ø—É—Å–∫–∞–µ—Ç FSM –∏–∑ `handlers/booking/user_flow.py`.
   - `menu_stub|cancel_booking` –≤—ã–∑—ã–≤–∞–µ—Ç `cmd_off()` –∏–∑ `handlers/booking/cancelbook.py`.
10. **FSM-—Å–æ—Å—Ç–æ—è–Ω–∏—è**
    - `handlers/states.py`:
      ```
      class BookUserStates(StatesGroup):
          waiting_for_group = State()
          waiting_for_day = State()
          waiting_for_time = State()

      class BookPaymentStates(StatesGroup):
          waiting_for_amount = State()

      class SalaryStates(StatesGroup):
          waiting_for_group_choice = State()
          waiting_for_option_choice = State()

      class EmojiStates(StatesGroup):
          waiting_for_assign = State()

      class AdminStates(StatesGroup):
          menu = State()
      ```
11. **–£—Ç–∏–ª–∏—Ç—ã (`utils/`)**
    - **`bot_utils.py`**
      - `safe_answer(entity, ...)` ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞, —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.
      - `last_bot_message: Dict[int, int]` ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–∞–ª—è—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–æ–≤—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `send_tracked()`).
    - **`text_utils.py`**
      - `format_html_pre(text)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ —Ç–µ–≥–µ `<pre>‚Ä¶</pre>`.
    - **`time_utils.py`**
      - `generate_daily_time_slots()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Å–ª–æ—Ç–æ–≤ `["00:00", "00:30", ‚Ä¶, "23:30"]`.
      - `get_adjacent_time_slots(slot)` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ—Å–µ–¥–Ω–∏—Ö —Å–ª–æ—Ç–æ–≤ (¬±30 –º–∏–Ω).
12. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (`constants/`)**
    - **`booking_const.py`**
      - `groups_data: Dict[str, Dict[str, Any]]` ‚Äî in-memory —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∫–ª—é—á–∞–º–∏ –≥—Ä—É–ø–ø –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:
        ```
        groups_data = {
            "Royal_1": {
                "chat_id": -1002503654146,
                "salary_option": 1,
                "salary": 0,
                "cash": 0,
                "time_slot_statuses": {},
                "unavailable_slots": {"–°–µ–≥–æ–¥–Ω—è": set(), "–ó–∞–≤—Ç—Ä–∞": set()},
                "booked_slots": {"–°–µ–≥–æ–¥–Ω—è": [], "–ó–∞–≤—Ç—Ä–∞": []},
                "slot_bookers": {},
                "slot_emojis": {},
                "target_id": None,
                "distribution_variant": None,
                "message_id": None
            },
            # –û—Å—Ç–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
        }
        ```
      - `status_mapping: Dict[str, str]` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–¥–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤ —ç–º–æ–¥–∑–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "0" ‚Üí "‚ùå‚ùå‚ùå", "1" ‚Üí "‚úÖ", ‚Ä¶).
      - `distribution_variants: Dict[str, Dict[str, int]]` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã.
      - `BOOKING_REPORT_GROUP_ID`, `FINANCIAL_REPORT_GROUP_ID` ‚Äî ID —á–∞—Ç–æ–≤ –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤.
    - **`salary.py`**
      - `salary_options: Dict[int, Dict[str, int]]` ‚Äî –±–∞–∑–æ–≤—ã–µ –≤—ã–ø–ª–∞—Ç—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –¥–ª—è –æ–ø—Ü–∏–π 1‚Äì4:
        ```
        salary_options = {
            1: {'‚úÖ':700,  '‚úÖ2':900,  '‚úÖ‚úÖ':1400, '‚úÖ‚úÖ‚úÖ':2100},
            2: {'‚úÖ':800,  '‚úÖ2':1000, '‚úÖ‚úÖ':1600, '‚úÖ‚úÖ‚úÖ':2400},
            3: {'‚úÖ':900,  '‚úÖ2':1100, '‚úÖ‚úÖ':1800, '‚úÖ‚úÖ‚úÖ':2700},
            4: {'‚úÖ':1000, '‚úÖ2':1200, '‚úÖ‚úÖ':2000, '‚úÖ‚úÖ‚úÖ':3000},
        }
        ```

---

## 2. –û–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 2.1. `main.py`
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
  1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: `BOT_TOKEN`, `DATABASE_URL`, `ADMIN_IDS`, `BOOKING_REPORT_GROUP_ID`, `FINANCIAL_REPORT_GROUP_ID`.
  2. –°–æ–∑–¥–∞—ë—Ç –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π `db.db_pool` –¥–ª—è PostgreSQL (–º–æ–¥—É–ª—å `db.py`).
  3. –í—ã–∑—ã–≤–∞–µ—Ç:
     - `handlers/salary.load_salary_data_from_db()` ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ `group_financial_data` –≤ `groups_data`.
     - `handlers/booking/loader.load_slots_from_db()` ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∑–∞–ø–∏—Å–∏ `bookings` –∏ `group_time_slot_statuses` –≤ `groups_data`.
  4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä (`Dispatcher`).
  5. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã (`handlers/*`) —Å –ø–æ–º–æ—â—å—é `dp.include_router(...)`.
  6. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (`bot.set_my_commands(...)`).
  7. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫, –≤—ã–∑—ã–≤–∞–µ—Ç `handlers/next.register_daily_scheduler(dp, bot)`.
  8. –ó–∞–ø—É—Å–∫–∞–µ—Ç polling (`dp.start_polling()`).

### 2.2. `config.py`
- –•—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
  - `BOT_TOKEN: str` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞.
  - `ADMIN_IDS: List[int]` ‚Äî —Å–ø–∏—Å–æ–∫ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.
  - `BOOKING_REPORT_GROUP_ID: int`
  - `FINANCIAL_REPORT_GROUP_ID: int`
  - –ü—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `STARTEMOJI_PHOTO`, `MENU_PHOTO_ID`).
- –§—É–Ω–∫—Ü–∏—è `is_user_admin(user_id: int) -> bool` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ `user_id` –≤ `ADMIN_IDS`.

### 2.3. `db.py`
- –°–æ–∑–¥–∞—ë—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π:
  ```python
  import os
  import asyncpg

  db_pool = None

  async def init_db_pool():
      global db_pool
      db_pool = await asyncpg.create_pool(dsn=os.getenv("DATABASE_URL"))
  ```
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ `main.py` –ø–µ—Ä–µ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤.

### 2.4. `constants/booking_const.py`
```python
from typing import Dict, Any
import os

# In-memory —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –≥—Ä—É–ø–ø:
groups_data: Dict[str, Dict[str, Any]] = {
    "Royal_1": {
        "chat_id": -1002503654146,
        "salary_option": 1,
        "salary": 0,
        "cash": 0,
        "time_slot_statuses": {},
        "unavailable_slots": {"–°–µ–≥–æ–¥–Ω—è": set(), "–ó–∞–≤—Ç—Ä–∞": set()},
        "booked_slots": {"–°–µ–≥–æ–¥–Ω—è": [], "–ó–∞–≤—Ç—Ä–∞": []},
        "slot_bookers": {},
        "slot_emojis": {},
        "target_id": None,
        "distribution_variant": None,
        "message_id": None,
    },
    # ‚Ä¶ –∞–Ω–∞–ª–æ–≥–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –≥—Ä—É–ø–ø ‚Ä¶
}

# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ status_code ‚Üí emoji
status_mapping: Dict[str, str] = {
    "0": "‚ùå‚ùå‚ùå",
    "1": "‚úÖ",
    "2": "‚úÖ2",
    "3": "‚úÖ‚úÖ",
    "4": "‚úÖ‚úÖ‚úÖ",
}

# –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ–ø. –æ–ø–ª–∞—Ç—ã
distribution_variants: Dict[str, Dict[str, int]] = {
    "variant_400": {"1": 400, "2": 600, "3": 800, "4": 1000},
}

BOOKING_REPORT_GROUP_ID: int = int(os.getenv("BOOKING_REPORT_GROUP_ID", "-100"))
FINANCIAL_REPORT_GROUP_ID: int = int(os.getenv("FINANCIAL_REPORT_GROUP_ID", "-100"))
```

### 2.5. `constants/salary.py`
```python
salary_options: Dict[int, Dict[str, int]] = {
    1: {'‚úÖ': 700,  '‚úÖ2': 900,  '‚úÖ‚úÖ': 1400, '‚úÖ‚úÖ‚úÖ': 2100},
    2: {'‚úÖ': 800,  '‚úÖ2': 1000, '‚úÖ‚úÖ': 1600, '‚úÖ‚úÖ‚úÖ': 2400},
    3: {'‚úÖ': 900,  '‚úÖ2': 1100, '‚úÖ‚úÖ': 1800, '‚úÖ‚úÖ‚úÖ': 2700},
    4: {'‚úÖ': 1000, '‚úÖ2': 1200, '‚úÖ‚úÖ': 2000, '‚úÖ‚úÖ‚úÖ': 3000},
}
```

### 2.6. `handlers/startemoji.py`
... *(—É–∂–µ –æ–ø–∏—Å–∞–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ–∫—Ü–∏–∏; –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ)*

### 2.7. `handlers/menu_ad.py`
... *(—É–∂–µ –æ–ø–∏—Å–∞–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ–∫—Ü–∏–∏; –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ)*

### 2.8. `handlers/menu_user.py`
... *(—É–∂–µ –æ–ø–∏—Å–∞–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ–∫—Ü–∏–∏; –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ)*

### 2.9. `handlers/language.py`
... *(—É–∂–µ –æ–ø–∏—Å–∞–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ–∫—Ü–∏–∏; –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ)*

---

# –ß–∞—Å—Ç—å 2. User Guide (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

## 1. –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ Telegram –ø–æ –µ–≥–æ @username (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@Royalaiagent_bot`).
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   /start
   ```
   - –ï—Å–ª–∏ —É –≤–∞—Å –µ—â—ë –Ω–µ—Ç —ç–º–æ–¥–∑–∏, –±–æ—Ç —É–≤–µ–¥–æ–º–∏—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏ —Å–æ–æ–±—â–∏—Ç:
     ```
     –û–∂–∏–¥–∞–π—Ç–µ ‚Äî –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.
     ```
   - –ü–æ—Å–ª–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
     ```
     –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –≠–º–æ–¥–∑–∏ —É–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω.
     ```
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:
   ```
   /lang
   ```
   –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π:
   - English
   - –†—É—Å—Å–∫–∏–π
   - ‰∏≠Êñá

## 2. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### 2.1. `/menu`

–í—ã–≤–æ–¥–∏—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:
- **üÖ±Ô∏è –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –Ω–∞—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- **üìÜ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- **üßß –ë–∞–ª–∞–Ω—Å** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ).
- **‚ùå –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏** ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.

### 2.2. –ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

1. –ù–∞–∂–º–∏—Ç–µ **üÖ±Ô∏è –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**.
2. –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Royal_1`).
3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å:
   - –°–µ–≥–æ–¥–Ω—è
   - –ó–∞–≤—Ç—Ä–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–±–æ–¥–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç (—Ñ–æ—Ä–º–∞—Ç `HH:MM`). –î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–µ–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ –Ω–µ–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (—Å–º–µ–∂–Ω—ã–º–∏) —Å–ª–æ—Ç—ã.
5. –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   ```
   üéâ {–í–∞—à–µ_–∏–º—è}, –≤—ã –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª–∏ —Å–ª–æ—Ç –Ω–∞ {HH:MM} ({–¥–µ–Ω—å}) –≤ –≥—Ä—É–ø–ø–µ Royal_X
   ```
6. –í –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –ø—Ä–∏–¥—ë—Ç –æ—Ç—á—ë—Ç:
   ```
   üìÖ –ù–æ–≤—ã–π Booking
   üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {–≤–∞—à–µ_—ç–º–æ–¥–∑–∏} {–≤–∞—à–µ_–∏–º—è}
   üåπ –ì—Ä—É–ø–ø–∞: Royal_X
   ‚è∞ –í—Ä–µ–º—è: {HH:MM} ({–¥–µ–Ω—å})
   ```

### 2.3. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

- –ù–∞–∂–º–∏—Ç–µ **üìÜ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**.
- –ë–æ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–æ–∫–∞–∂–µ—Ç —Ç–∞–±–ª–∏—Ü—É:
  ```
  üìÖ –í—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –°–µ–≥–æ–¥–Ω—è
  ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
  ‚ïë –ì—Ä—É–ø–ø–∞   ‚ïë –í—Ä–µ–º—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ‚ïë
  ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
  ‚ïë Royal_1  ‚ïë 19:00   üèÄ         ‚ïë
  ‚ïë Royal_2  ‚ïë 20:30   üèà         ‚ïë
  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
  ```

### 2.4. –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

1. –ù–∞–∂–º–∏—Ç–µ **‚ùå –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏**.
2. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
   ```
   [Royal_1 | 19:00 | –°–µ–≥–æ–¥–Ω—è]
   [Royal_3 | 20:30 | –ó–∞–≤—Ç—Ä–∞]
   ```
3. –ù–∞–∂–º–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–ª–æ—Ç.
4. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:
   ```
   –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ.
   ```

### 2.5. –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞

- –ù–∞–∂–º–∏—Ç–µ **üßß –ë–∞–ª–∞–Ω—Å**.
- –ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç:
  ```
  –í–∞—à –±–∞–ª–∞–Ω—Å: {balance}¬•
  ```
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
  ```
  –í–∞—à –±–∞–ª–∞–Ω—Å –∏–∑–º–µ–Ω—ë–Ω: +{amount}. –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: {new_balance}¬•
  ```

### 2.6. –í—ã–±–æ—Ä —è–∑—ã–∫–∞

- –ù–∞–∂–º–∏—Ç–µ:
  ```
  /lang
  ```
- –í—ã–±–µ—Ä–∏—Ç–µ:
  - English
  - –†—É—Å—Å–∫–∏–π
  - ‰∏≠Êñá
- –ë–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç:
  ```
  –Ø–∑—ã–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ {lang_name}.
  ```

---

# –ß–∞—Å—Ç—å 3. Admin Guide (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

## 1. –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü—Ä–æ–µ–∫—Ç–Ω—ã–π –∞–¥–º–∏–Ω** ‚Äî Telegram-ID –∏–∑ `config.ADMIN_IDS`. –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É.
- **–ê–¥–º–∏–Ω –≥—Ä—É–ø–ø—ã** ‚Äî —Å—Ç–∞—Ç—É—Å "administrator" –∏–ª–∏ "creator" –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥—Ä—É–ø–ø–µ. –ú–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –∏ –æ–ø–ª–∞—á–∏–≤–∞—Ç—å —Å–ª–æ—Ç—ã.

## 2. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start`, –Ω–µ –∏–º–µ—è —ç–º–æ–¥–∑–∏.
2. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º `ADMIN_IDS` —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
   ```
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @username (ID: {user_id}) –æ–∂–∏–¥–∞–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏.
   [–ö–Ω–æ–ø–∫–∞ ¬´–ù–∞–∑–Ω–∞—á–∏—Ç—å —ç–º–æ–¥–∑–∏¬ª]
   ```
3. –ê–¥–º–∏–Ω –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–ù–∞–∑–Ω–∞—á–∏—Ç—å —ç–º–æ–¥–∑–∏¬ª.
4. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å —ç–º–æ–¥–∑–∏ (`CUSTOM_EMOJIS`) –∏ –∫–Ω–æ–ø–∫–æ–π `‚öΩÔ∏èü™©üèÄ`.
5. –ê–¥–º–∏–Ω –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–º–æ–¥–∑–∏.
6. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ `user_emojis` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
   ```
   –í–∞–º –Ω–∞–∑–Ω–∞—á–µ–Ω —ç–º–æ–¥–∑–∏: {emoji}
   –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã!
   ```
7. –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:
   ```
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {target_id} –Ω–∞–∑–Ω–∞—á–µ–Ω —ç–º–æ–¥–∑–∏: {emoji}
   ```

## 3. –ê–¥–º–∏–Ω-–º–µ–Ω—é `/ad`

1. –í–≤–µ–¥–∏—Ç–µ:
   ```
   /ad
   ```
2. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç —Ñ–æ—Ç–æ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
   ```
   üêÜ –õ–µ–æ–Ω–∞—Ä–¥   | üí∞ –ó–∞—Ä–ø–ª–∞—Ç–∞
   üòä –≠–º–æ–¥–∑–∏    | üíµ –î–µ–Ω—å–≥–∏
   ‚ùå –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏ | üßπ –û—á–∏—Å—Ç–∫–∞
   üìä –ë–∞–ª–∞–Ω—Å—ã   | üìú –ü—Ä–∞–≤–∏–ª–∞
   üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è | üîÅ –°–±—Ä–æ—Å –¥–Ω—è
   üîô ¬´ –ù–∞–∑–∞–¥
   ```
3. –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å:
   - **–õ–µ–æ–Ω–∞—Ä–¥** ‚Üí `handlers/leonard.leonard_menu_callback()`
   - **–ó–∞—Ä–ø–ª–∞—Ç–∞** ‚Üí `handlers/salary.salary_command()`
   - **–≠–º–æ–¥–∑–∏** ‚Üí `handlers/startemoji.cmd_emoji()`
   - **–î–µ–Ω—å–≥–∏** ‚Üí `handlers/money.money_command()`
   - **–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏** ‚Üí `handlers/booking/cancelbook.cmd_off_admin()`
   - **–û—á–∏—Å—Ç–∫–∞** ‚Üí `handlers/clean.clean_via_button()`
   - **–ë–∞–ª–∞–Ω—Å—ã** ‚Üí `handlers/users.show_users_via_callback()`
   - **–ü—Ä–∞–≤–∏–ª–∞**, **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è** ‚Üí –∑–∞–≥–ª—É—à–∫–∞ ("–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ")
   - **–°–±—Ä–æ—Å –¥–Ω—è** ‚Üí `handlers/next.callback_reset_day()`
   - **–ù–∞–∑–∞–¥** ‚Üí –≤—ã—Ö–æ–¥ –∏–∑ –º–µ–Ω—é (–æ—á–∏—Å—Ç–∫–∞ FSM)

### 3.1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç–æ–π

1. –ù–∞–∂–º–∏—Ç–µ **üí∞ –ó–∞—Ä–ø–ª–∞—Ç–∞**.
2. –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É (–∫–Ω–æ–ø–∫–∞ `salary_group_<group_key>`).
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é (1‚Äì4) (`salary_opt_<opt>`).
4. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç `salary_option` –≤ `groups_data` –∏ –ë–î.
5. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:
   ```
   –û–ø—Ü–∏—è –∑–∞—Ä–ø–ª–∞—Ç—ã –¥–ª—è {group_key} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: {opt}.
   ```

### 3.2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏

- –ù–∞–∂–º–∏—Ç–µ **üòä –≠–º–æ–¥–∑–∏**.
- –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`SELECT user_id, username FROM users`).
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí `assign_emoji_<user_id>` ‚Üí –≤—ã–±–∏—Ä–∞–π—Ç–µ —ç–º–æ–¥–∑–∏.
- –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: —Ä–∞–∑–¥–µ–ª "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏" (—Å–º. –≤—ã—à–µ).

### 3.3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ (–î–µ–Ω—å–≥–∏)

1. –ù–∞–∂–º–∏—Ç–µ **üíµ –î–µ–Ω—å–≥–∏**.
2. –ë–æ—Ç —Å–ø—Ä–æ—Å–∏—Ç: "–ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å?" (Salary / Cash).
3. –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É.
4. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é (+ / ‚àí).
5. –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É.
6. –ë–æ—Ç –æ–±–Ω–æ–≤–∏—Ç `group_financial_data` –∏ `groups_data`.
7. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:
   ```
   [Salary/Cash] –¥–ª—è –≥—Ä—É–ø–ø—ã {group_key} –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ {amount}¬•.
   ```

### 3.4. –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏

- –ù–∞–∂–º–∏—Ç–µ **‚ùå –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏**.
- –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–ª–æ—Ç–æ–≤ –≤ —Å—Ç–∞—Ç—É—Å–µ "booked".
- –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç ‚Üí –±–æ—Ç —É–¥–∞–ª–∏—Ç –∑–∞–ø–∏—Å—å –∏–∑ `bookings` –∏ `group_time_slot_statuses`, –æ–±–Ω–æ–≤–∏—Ç in-memory, –≤—ã–∑–æ–≤–µ—Ç `update_group_message()`.
- –°–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   –°–ª–æ—Ç –æ—Ç–º–µ–Ω—ë–Ω.
   ```

### 3.5. –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. –ù–∞–∂–º–∏—Ç–µ **üßπ –û—á–∏—Å—Ç–∫–∞**.
2. FSM:
   - –®–∞–≥ "–ß—Ç–æ —Å—Ç–µ—Ä–µ—Ç—å?" (Time / Salary / Cash / All).
   - –®–∞–≥ "–í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É –∏–ª–∏ '–°—Ç–µ—Ä–µ—Ç—å –≤—Å–µ {section}'".
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ "–î–∞, —Å—Ç–µ—Ä–µ—Ç—å".
3. –ë–æ—Ç —É–¥–∞–ª–∏—Ç:
   - –î–ª—è Time ‚Äî –≤—Å–µ –±—Ä–æ–Ω–∏ (—Ç–∞–±–ª–∏—Ü—ã `bookings` –∏ `group_time_slot_statuses`).
   - –î–ª—è Salary ‚Äî —Å–±—Ä–æ—Å–∏—Ç `salary = 0` (in-memory –∏ –ë–î).
   - –î–ª—è Cash ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.
   - –î–ª—è All ‚Äî –≤—Å—ë –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ.
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç:
   ```
   –î–∞–Ω–Ω—ã–µ "{section}" —Å—Ç–µ—Ä—Ç—ã –¥–ª—è {–≥—Ä—É–ø–ø–∞/–≤—Å–µ—Ö –≥—Ä—É–ø–ø}.
   ```

### 3.6. –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–æ–≤

- –ù–∞–∂–º–∏—Ç–µ **üìä –ë–∞–ª–∞–Ω—Å—ã**.
- –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç:
   ```
   1. üòÉ User1: 1200¬•
   2. ü§ñ User2: 800¬•
   ...
   ```

### 3.7. –ü—Ä–∞–≤–∏–ª–∞ / –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è

- –ü–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
   ```
   –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
   ```

### 3.8. –°–±—Ä–æ—Å –¥–Ω—è

- **–ö–Ω–æ–ø–∫–∞** **üîÅ –°–±—Ä–æ—Å –¥–Ω—è** (–∏–ª–∏ `/next`):
  - –ë–æ—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç `do_next_core()`:
    1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –∑–∞ "–°–µ–≥–æ–¥–Ω—è".
    2. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ `FINANCIAL_REPORT_GROUP_ID`.
    3. –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π "–°–µ–≥–æ–¥–Ω—è" –∏–∑ `bookings` –∏ `group_time_slot_statuses`.
    4. –ü–µ—Ä–µ–Ω–æ—Å "–ó–∞–≤—Ç—Ä–∞" ‚Üí "–°–µ–≥–æ–¥–Ω—è" (–ë–î –∏ in-memory).
    5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `update_group_message()` –≤–æ –≤—Å–µ—Ö –≥—Ä—É–ø–ø–∞—Ö.
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
    ```
    ‚úÖ –û—Ç—á–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã.
    ```

## 4. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   ```
   git clone <repo_url>
   cd royal_bot
   ```
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:
   ```
   python3 -m venv .venv
   source .venv/bin/activate
   ```
3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```
   pip install -r requirements.txt
   ```
4. **–°–æ–∑–¥–∞—Ç—å .env** (–∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ):
   ```
   BOT_TOKEN=your_token
   DATABASE_URL=postgresql://user:pass@host:port/dbname
   ADMIN_IDS=7894353415,7935161063,1768520583,7900291243
   BOOKING_REPORT_GROUP_ID=-1001234567890
   FINANCIAL_REPORT_GROUP_ID=-1009876543210
   ```
5. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î** (SQL-—Å—Ö–µ–º—ã):
   ```sql
   CREATE TABLE users (
     user_id bigint PRIMARY KEY,
     username text,
     balance numeric DEFAULT 0,
     profit numeric DEFAULT 0,
     monthly_profit numeric DEFAULT 0
   );
   CREATE TABLE user_emojis (
     user_id bigint PRIMARY KEY REFERENCES users(user_id),
     emojis text
   );
   CREATE TABLE user_settings (
     user_id bigint PRIMARY KEY REFERENCES users(user_id),
     language char(2)
   );
   CREATE TABLE bookings (
     group_key text,
     day text,
     time_slot text,
     user_id bigint REFERENCES users(user_id),
     status_code text,
     status text,
     amount integer,
     payment_method text,
     emoji text,
     PRIMARY KEY (group_key, day, time_slot)
   );
   CREATE TABLE group_time_slot_statuses (
     group_key text,
     day text,
     time_slot text,
     status text,
     user_id bigint,
     PRIMARY KEY (group_key, day, time_slot)
   );
   CREATE TABLE group_financial_data (
     group_key text PRIMARY KEY,
     salary_option integer,
     salary numeric DEFAULT 0,
     cash numeric DEFAULT 0,
     message_id integer
   );

   INSERT INTO group_financial_data (group_key, salary_option, salary, cash, message_id) VALUES
   ('Royal_1',1,0,0,NULL),
   ('Royal_2',1,0,0,NULL),
   ('Royal_3',1,0,0,NULL),
   ('Royal_4',1,0,0,NULL),
   ('Royal_5',1,0,0,NULL),
   ('Royal_6',1,0,0,NULL);
   ```
6. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞**:
   ```
   source .venv/bin/activate
   export BOT_TOKEN="..."
   export DATABASE_URL="..."
   export ADMIN_IDS="..."
   export BOOKING_REPORT_GROUP_ID="..."
   export FINANCIAL_REPORT_GROUP_ID="..."
   python main.py
   ```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç:
```
INFO __main__: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
INFO root: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.
INFO handlers.salary: Salary settings loaded from DB.
INFO aiogram.dispatcher: Run polling for bot @YourBot
```

## 5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

- **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —è–∑—ã–∫–∏**: –¥–æ–ø. –∫–æ–¥—ã –≤ `handlers/language.LANGUAGES` –∏ `TRANSLATIONS`.
- **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã**: —Ä–∞—Å—à–∏—Ä–∏—Ç—å `constants/booking_const.groups_data` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å INSERT –≤ `group_financial_data`.
- **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –≤—ã–ø–ª–∞—Ç**: –∏–∑–º–µ–Ω–∏—Ç—å `constants/salary.salary_options`.
- **–ù–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã –±—Ä–æ–Ω–∏**: –¥–æ–±–∞–≤–∏—Ç—å –≤ `status_mapping` –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ–ø–ª–∞—Ç—ã.
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Aiogram**: –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö API.

"""
